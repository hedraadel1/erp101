<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link rel="stylesheet" href="css/style.css" />
    <script src="js/all.js"></script>


          <script>
        $(function() {
            setupLanguages(["bash","javascript"]);
        });
      </script>
      </head>

  <body class="">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
        <img src="images/logo.png" />
                    <div class="lang-selector">
                                  <a href="#" data-language-name="bash">bash</a>
                                  <a href="#" data-language-name="javascript">javascript</a>
                            </div>
                            <div class="search">
              <input type="text" class="search" id="input-search" placeholder="Search">
            </div>
            <ul class="search-results"></ul>
              <div id="toc">
      </div>
                    <ul class="toc-footer">
                                  <li><a href='http://github.com/mpociot/documentarian'>Documentation Powered by Documentarian</a></li>
                            </ul>
            </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
          <!-- START_INFO -->
<h1>Info</h1>
<p>Welcome to the generated API reference.
<a href="http://www.gyral.link/erpnew/public/docs/collection.json">Get Postman Collection</a></p>
<!-- END_INFO -->
<h1>CRM</h1>
<!-- START_769942ab71bff81917e9ac7df7b234d8 -->
<h2>List Follow ups</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X GET \
    -G "http://www.gyral.link/erpnew/public/connector/api/crm/follow-ups?start_date=2020-12-16&amp;end_date=2020-12-16&amp;status=pariatur&amp;follow_up_type=reiciendis&amp;order_by=start_datetime&amp;direction=desc&amp;per_page=10" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}"</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/crm/follow-ups"
);

let params = {
    "start_date": "2020-12-16",
    "end_date": "2020-12-16",
    "status": "pariatur",
    "follow_up_type": "reiciendis",
    "order_by": "start_datetime",
    "direction": "desc",
    "per_page": "10",
};
Object.keys(params)
    .forEach(key =&gt; url.searchParams.append(key, params[key]));

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

fetch(url, {
    method: "GET",
    headers: headers,
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<blockquote>
<p>Example response (200):</p>
</blockquote>
<pre><code class="language-json">{
    "data": [
        {
            "id": 1,
            "business_id": 1,
            "contact_id": 50,
            "title": "Test Follow up",
            "status": "scheduled",
            "start_datetime": "2020-12-16 15:15:00",
            "end_datetime": "2020-12-16 15:15:00",
            "description": "&lt;p&gt;tst&lt;\/p&gt;",
            "schedule_type": "call",
            "allow_notification": 0,
            "notify_via": {
                "sms": 0,
                "mail": 1
            },
            "notify_before": null,
            "notify_type": "minute",
            "created_by": 1,
            "followup_additional_info": null,
            "created_at": "2020-12-16 03:15:23",
            "updated_at": "2020-12-16 15:46:34",
            "customer": {
                "id": 50,
                "business_id": 1,
                "type": "lead",
                "supplier_business_name": null,
                "name": " Lead 4  ",
                "prefix": null,
                "first_name": "Lead 4",
                "middle_name": null,
                "last_name": null,
                "email": null,
                "contact_id": "CO0011",
                "contact_status": "active",
                "tax_number": null,
                "city": null,
                "state": null,
                "country": null,
                "address_line_1": null,
                "address_line_2": null,
                "zip_code": null,
                "dob": null,
                "mobile": "234567",
                "landline": null,
                "alternate_number": null,
                "pay_term_number": null,
                "pay_term_type": null,
                "credit_limit": null,
                "created_by": 1,
                "balance": "0.0000",
                "total_rp": 0,
                "total_rp_used": 0,
                "total_rp_expired": 0,
                "is_default": 0,
                "shipping_address": null,
                "position": null,
                "customer_group_id": null,
                "crm_source": "55",
                "crm_life_stage": "62",
                "custom_field1": null,
                "custom_field2": null,
                "custom_field3": null,
                "custom_field4": null,
                "custom_field5": null,
                "custom_field6": null,
                "custom_field7": null,
                "custom_field8": null,
                "custom_field9": null,
                "custom_field10": null,
                "deleted_at": null,
                "created_at": "2020-12-15 23:14:48",
                "updated_at": "2021-01-07 15:32:52",
                "remember_token": null,
                "password": null
            }
        },
        {
            "id": 2,
            "business_id": 1,
            "contact_id": 50,
            "title": "Test Follow up 1",
            "status": "completed",
            "start_datetime": "2020-12-16 15:46:00",
            "end_datetime": "2020-12-16 15:46:00",
            "description": "&lt;p&gt;Test Follow up&lt;\/p&gt;",
            "schedule_type": "call",
            "allow_notification": 0,
            "notify_via": {
                "sms": 0,
                "mail": 1
            },
            "notify_before": null,
            "notify_type": "minute",
            "created_by": 1,
            "followup_additional_info": null,
            "created_at": "2020-12-16 15:46:57",
            "updated_at": "2020-12-17 10:24:11",
            "customer": {
                "id": 50,
                "business_id": 1,
                "type": "lead",
                "supplier_business_name": null,
                "name": " Lead 4  ",
                "prefix": null,
                "first_name": "Lead 4",
                "middle_name": null,
                "last_name": null,
                "email": null,
                "contact_id": "CO0011",
                "contact_status": "active",
                "tax_number": null,
                "city": null,
                "state": null,
                "country": null,
                "address_line_1": null,
                "address_line_2": null,
                "zip_code": null,
                "dob": null,
                "mobile": "234567",
                "landline": null,
                "alternate_number": null,
                "pay_term_number": null,
                "pay_term_type": null,
                "credit_limit": null,
                "created_by": 1,
                "balance": "0.0000",
                "total_rp": 0,
                "total_rp_used": 0,
                "total_rp_expired": 0,
                "is_default": 0,
                "shipping_address": null,
                "position": null,
                "customer_group_id": null,
                "crm_source": "55",
                "crm_life_stage": "62",
                "custom_field1": null,
                "custom_field2": null,
                "custom_field3": null,
                "custom_field4": null,
                "custom_field5": null,
                "custom_field6": null,
                "custom_field7": null,
                "custom_field8": null,
                "custom_field9": null,
                "custom_field10": null,
                "deleted_at": null,
                "created_at": "2020-12-15 23:14:48",
                "updated_at": "2021-01-07 15:32:52",
                "remember_token": null,
                "password": null
            }
        }
    ],
    "links": {
        "first": "http:\/\/local.pos.com\/connector\/api\/crm\/follow-ups?page=1",
        "last": "http:\/\/local.pos.com\/connector\/api\/crm\/follow-ups?page=21",
        "prev": null,
        "next": "http:\/\/local.pos.com\/connector\/api\/crm\/follow-ups?page=2"
    },
    "meta": {
        "current_page": 1,
        "from": 1,
        "last_page": 21,
        "path": "http:\/\/local.pos.com\/connector\/api\/crm\/follow-ups",
        "per_page": "2",
        "to": 2,
        "total": 42
    }
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET connector/api/crm/follow-ups</code></p>
<h4>Query Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>start_date</code></td>
<td>optional</td>
<td>format: Y-m-d (Ex: 2020-12-16)</td>
</tr>
<tr>
<td><code>end_date</code></td>
<td>optional</td>
<td>format: Y-m-d (Ex: 2020-12-16)</td>
</tr>
<tr>
<td><code>status</code></td>
<td>optional</td>
<td>filter the result through status, get status from getFollowUpResources-&gt;statuses</td>
</tr>
<tr>
<td><code>follow_up_type</code></td>
<td>optional</td>
<td>filter the result through follow_up_type, get follow_up_type from getFollowUpResources-&gt;follow_up_types</td>
</tr>
<tr>
<td><code>order_by</code></td>
<td>optional</td>
<td>Column name to sort the result, Column: start_datetime</td>
</tr>
<tr>
<td><code>direction</code></td>
<td>optional</td>
<td>Direction to sort the result, Required if using 'order_by', direction: desc, asc</td>
</tr>
<tr>
<td><code>per_page</code></td>
<td>optional</td>
<td>Total records per page. default: 10, Set -1 for no pagination</td>
</tr>
</tbody>
</table>
<!-- END_769942ab71bff81917e9ac7df7b234d8 -->
<!-- START_bd9693a0666e19abef8cc5b2a6ef4c9a -->
<h2>Add follow up</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X POST \
    "http://www.gyral.link/erpnew/public/connector/api/crm/follow-ups" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}" \
    -d '{"title":"Meeting with client","contact_id":2,"description":"laboriosam","schedule_type":"molestiae","user_id":"[2,3,5]","notify_before":5,"notify_type":"minute","status":"open","notify_via":"['sms' =&gt; 0 ,'mail' =&gt; 1]","start_datetime":"2021-01-06 13:05:00","end_datetime":"2021-01-06 13:05:00","followup_additional_info":"['call duration' =&gt; '1 hour']","allow_notification":true}'
</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/crm/follow-ups"
);

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

let body = {
    "title": "Meeting with client",
    "contact_id": 2,
    "description": "laboriosam",
    "schedule_type": "molestiae",
    "user_id": "[2,3,5]",
    "notify_before": 5,
    "notify_type": "minute",
    "status": "open",
    "notify_via": "['sms' =&gt; 0 ,'mail' =&gt; 1]",
    "start_datetime": "2021-01-06 13:05:00",
    "end_datetime": "2021-01-06 13:05:00",
    "followup_additional_info": "['call duration' =&gt; '1 hour']",
    "allow_notification": true
}

fetch(url, {
    method: "POST",
    headers: headers,
    body: body
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<blockquote>
<p>Example response (200):</p>
</blockquote>
<pre><code class="language-json">{
    "data": {
        "title": "test",
        "contact_id": "1",
        "description": null,
        "schedule_type": "call",
        "notify_before": null,
        "status": null,
        "start_datetime": "2021-01-06 15:27:00",
        "end_datetime": "2021-01-06 15:27:00",
        "allow_notification": 0,
        "notify_via": {
            "sms": 1,
            "mail": 1
        },
        "notify_type": "hour",
        "business_id": 1,
        "created_by": 1,
        "updated_at": "2021-01-06 17:04:54",
        "created_at": "2021-01-06 17:04:54",
        "id": 20
    }
}</code></pre>
<h3>HTTP Request</h3>
<p><code>POST connector/api/crm/follow-ups</code></p>
<h4>Body Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td>string</td>
<td>required</td>
<td>Follow up title</td>
</tr>
<tr>
<td><code>contact_id</code></td>
<td>integer</td>
<td>required</td>
<td>Contact to be followed up</td>
</tr>
<tr>
<td><code>description</code></td>
<td>text</td>
<td>optional</td>
<td>Follow up description</td>
</tr>
<tr>
<td><code>schedule_type</code></td>
<td>string</td>
<td>required</td>
<td>Follow up type default get from getFollowUpResources-&gt;follow_up_types</td>
</tr>
<tr>
<td><code>user_id</code></td>
<td>array</td>
<td>required</td>
<td>Integer ID; Follow up to be assigned Ex: [2,3,8]</td>
</tr>
<tr>
<td><code>notify_before</code></td>
<td>integer</td>
<td>optional</td>
<td>Integer value will be used to send auto notification before follow up starts.</td>
</tr>
<tr>
<td><code>notify_type</code></td>
<td>string</td>
<td>optional</td>
<td>Notify type Ex: 'minute', 'hour', 'day'. default is hour</td>
</tr>
<tr>
<td><code>status</code></td>
<td>string</td>
<td>optional</td>
<td>Follow up status</td>
</tr>
<tr>
<td><code>notify_via</code></td>
<td>array</td>
<td>optional</td>
<td>Will be used to send notification Ex: ['sms' =&gt; 0 ,'mail' =&gt; 1]</td>
</tr>
<tr>
<td><code>start_datetime</code></td>
<td>datetime</td>
<td>required</td>
<td>Follow up start datetime format: Y-m-d H:i:s Ex: 2020-12-16 03:15:23</td>
</tr>
<tr>
<td><code>end_datetime</code></td>
<td>datetime</td>
<td>required</td>
<td>Follow up end datetime format: Y-m-d H:i:s Ex: 2020-12-16 03:15:23</td>
</tr>
<tr>
<td><code>followup_additional_info</code></td>
<td>array</td>
<td>optional</td>
<td>Follow up additional info Ex: ['call duration' =&gt; '1 hour']</td>
</tr>
<tr>
<td><code>allow_notification</code></td>
<td>boolean</td>
<td>optional</td>
<td>0/1 : If notification will be send before follow up starts. default is 1(true)</td>
</tr>
</tbody>
</table>
<!-- END_bd9693a0666e19abef8cc5b2a6ef4c9a -->
<!-- START_a0bd3915b449b6f8282908c9b166ce42 -->
<h2>Get the specified followup</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X GET \
    -G "http://www.gyral.link/erpnew/public/connector/api/crm/follow-ups/1,2" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}"</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/crm/follow-ups/1,2"
);

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

fetch(url, {
    method: "GET",
    headers: headers,
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<blockquote>
<p>Example response (200):</p>
</blockquote>
<pre><code class="language-json">{
    "data": [
        {
            "id": 20,
            "business_id": 1,
            "contact_id": 1,
            "title": "Meeting with client",
            "status": null,
            "start_datetime": "2021-01-06 15:27:00",
            "end_datetime": "2021-01-06 15:27:00",
            "description": null,
            "schedule_type": "call",
            "allow_notification": 0,
            "notify_via": {
                "sms": 1,
                "mail": 1
            },
            "notify_before": null,
            "notify_type": "hour",
            "created_by": 1,
            "created_at": "2021-01-06 17:04:54",
            "updated_at": "2021-01-06 17:04:54",
            "customer": {
                "id": 1,
                "business_id": 1,
                "type": "customer",
                "supplier_business_name": null,
                "name": "Walk-In Customer",
                "prefix": null,
                "first_name": "Walk-In Customer",
                "middle_name": null,
                "last_name": null,
                "email": null,
                "contact_id": "CO0005",
                "contact_status": "active",
                "tax_number": null,
                "city": "Phoenix",
                "state": "Arizona",
                "country": "USA",
                "address_line_1": "Linking Street",
                "address_line_2": null,
                "zip_code": null,
                "dob": null,
                "mobile": "(378) 400-1234",
                "landline": null,
                "alternate_number": null,
                "pay_term_number": null,
                "pay_term_type": null,
                "credit_limit": null,
                "created_by": 1,
                "balance": "0.0000",
                "total_rp": 0,
                "total_rp_used": 0,
                "total_rp_expired": 0,
                "is_default": 1,
                "shipping_address": null,
                "position": null,
                "customer_group_id": null,
                "crm_source": null,
                "crm_life_stage": null,
                "custom_field1": null,
                "custom_field2": null,
                "custom_field3": null,
                "custom_field4": null,
                "custom_field5": null,
                "custom_field6": null,
                "custom_field7": null,
                "custom_field8": null,
                "custom_field9": null,
                "custom_field10": null,
                "deleted_at": null,
                "created_at": "2018-01-03 20:45:20",
                "updated_at": "2018-06-11 22:22:05",
                "remember_token": null,
                "password": null
            },
            "users": [
                {
                    "id": 2,
                    "user_type": "user",
                    "surname": "Mr",
                    "first_name": "Demo",
                    "last_name": "Cashier",
                    "username": "cashier",
                    "email": "cashier@example.com",
                    "language": "en",
                    "contact_no": null,
                    "address": null,
                    "business_id": 1,
                    "max_sales_discount_percent": null,
                    "allow_login": 1,
                    "essentials_department_id": null,
                    "essentials_designation_id": null,
                    "status": "active",
                    "crm_contact_id": null,
                    "is_cmmsn_agnt": 0,
                    "cmmsn_percent": "0.00",
                    "selected_contacts": 0,
                    "dob": null,
                    "gender": null,
                    "marital_status": null,
                    "blood_group": null,
                    "contact_number": null,
                    "fb_link": null,
                    "twitter_link": null,
                    "social_media_1": null,
                    "social_media_2": null,
                    "permanent_address": null,
                    "current_address": null,
                    "guardian_name": null,
                    "custom_field_1": null,
                    "custom_field_2": null,
                    "custom_field_3": null,
                    "custom_field_4": null,
                    "bank_details": null,
                    "id_proof_name": null,
                    "id_proof_number": null,
                    "deleted_at": null,
                    "created_at": "2018-01-04 02:20:58",
                    "updated_at": "2018-01-04 02:20:58",
                    "pivot": {
                        "schedule_id": 20,
                        "user_id": 2
                    }
                }
            ]
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET connector/api/crm/follow-ups/{follow_up}</code></p>
<h4>URL Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>follow_up</code></td>
<td>required</td>
<td>comma separated ids of the follow_ups</td>
</tr>
</tbody>
</table>
<!-- END_a0bd3915b449b6f8282908c9b166ce42 -->
<!-- START_7088929a24a9e343737f77f8c947a410 -->
<h2>Update follow up</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X PUT \
    "http://www.gyral.link/erpnew/public/connector/api/crm/follow-ups/20" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}" \
    -d '{"title":"Meeting with client","contact_id":2,"description":"mollitia","schedule_type":"voluptatem","user_id":"[2,3,5]","notify_before":5,"notify_type":"minute","status":"open","notify_via":"['sms' =&gt; 0 ,'mail' =&gt; 1]","followup_additional_info":"['call duration' =&gt; '1 hour']","start_datetime":"2021-01-06 13:05:00","end_datetime":"2021-01-06 13:05:00","allow_notification":true}'
</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/crm/follow-ups/20"
);

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

let body = {
    "title": "Meeting with client",
    "contact_id": 2,
    "description": "mollitia",
    "schedule_type": "voluptatem",
    "user_id": "[2,3,5]",
    "notify_before": 5,
    "notify_type": "minute",
    "status": "open",
    "notify_via": "['sms' =&gt; 0 ,'mail' =&gt; 1]",
    "followup_additional_info": "['call duration' =&gt; '1 hour']",
    "start_datetime": "2021-01-06 13:05:00",
    "end_datetime": "2021-01-06 13:05:00",
    "allow_notification": true
}

fetch(url, {
    method: "PUT",
    headers: headers,
    body: body
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<blockquote>
<p>Example response (200):</p>
</blockquote>
<pre><code class="language-json">{
    "data": {
        "id": 20,
        "business_id": 1,
        "contact_id": "1",
        "title": "Meeting with client",
        "status": null,
        "start_datetime": "2021-01-06 15:27:00",
        "end_datetime": "2021-01-06 15:27:00",
        "description": null,
        "schedule_type": "call",
        "allow_notification": 0,
        "notify_via": {
            "sms": 1,
            "mail": 0
        },
        "notify_before": null,
        "notify_type": "hour",
        "created_by": 1,
        "created_at": "2021-01-06 17:04:54",
        "updated_at": "2021-01-06 18:22:21"
    }
}</code></pre>
<h3>HTTP Request</h3>
<p><code>PUT connector/api/crm/follow-ups/{follow_up}</code></p>
<p><code>PATCH connector/api/crm/follow-ups/{follow_up}</code></p>
<h4>URL Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>follow_up</code></td>
<td>required</td>
<td>id of the follow up to be updated</td>
</tr>
</tbody>
</table>
<h4>Body Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td>string</td>
<td>required</td>
<td>Follow up title</td>
</tr>
<tr>
<td><code>contact_id</code></td>
<td>integer</td>
<td>required</td>
<td>Contact to be followed up</td>
</tr>
<tr>
<td><code>description</code></td>
<td>text</td>
<td>optional</td>
<td>Follow up description</td>
</tr>
<tr>
<td><code>schedule_type</code></td>
<td>string</td>
<td>required</td>
<td>Follow up type default get from getFollowUpResources-&gt;follow_up_types</td>
</tr>
<tr>
<td><code>user_id</code></td>
<td>array</td>
<td>required</td>
<td>Integer ID; Follow up to be assigned Ex: [2,3,8]</td>
</tr>
<tr>
<td><code>notify_before</code></td>
<td>integer</td>
<td>optional</td>
<td>Integer value will be used to send auto notification before follow up starts.</td>
</tr>
<tr>
<td><code>notify_type</code></td>
<td>string</td>
<td>optional</td>
<td>Notify type Ex: 'minute', 'hour', 'day'. default is hour</td>
</tr>
<tr>
<td><code>status</code></td>
<td>string</td>
<td>optional</td>
<td>Follow up status</td>
</tr>
<tr>
<td><code>notify_via</code></td>
<td>array</td>
<td>optional</td>
<td>Will be used to send notification Ex: ['sms' =&gt; 0 ,'mail' =&gt; 1]</td>
</tr>
<tr>
<td><code>followup_additional_info</code></td>
<td>array</td>
<td>optional</td>
<td>Follow up additional info Ex: ['call duration' =&gt; '1 hour']</td>
</tr>
<tr>
<td><code>start_datetime</code></td>
<td>datetime</td>
<td>required</td>
<td>Follow up start datetime format: Y-m-d H:i:s Ex: 2020-12-16 03:15:23</td>
</tr>
<tr>
<td><code>end_datetime</code></td>
<td>datetime</td>
<td>required</td>
<td>Follow up end datetime format: Y-m-d H:i:s Ex: 2020-12-16 03:15:23</td>
</tr>
<tr>
<td><code>allow_notification</code></td>
<td>boolean</td>
<td>optional</td>
<td>0/1 : If notification will be send before follow up starts. default is 1(true)</td>
</tr>
</tbody>
</table>
<!-- END_7088929a24a9e343737f77f8c947a410 -->
<!-- START_1f14240a2d5b4c33d8c3659050d659c6 -->
<h2>Get follow up resources</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X GET \
    -G "http://www.gyral.link/erpnew/public/connector/api/crm/follow-up-resources" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}"</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/crm/follow-up-resources"
);

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

fetch(url, {
    method: "GET",
    headers: headers,
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<blockquote>
<p>Example response (200):</p>
</blockquote>
<pre><code class="language-json">{
    "data": {
        "statuses": {
            "scheduled": "Scheduled",
            "open": "Open",
            "canceled": "Cancelled",
            "completed": "Completed"
        },
        "follow_up_types": {
            "call": "Call",
            "sms": "Sms",
            "meeting": "Meeting",
            "email": "Email"
        },
        "notify_type": {
            "minute": "Minute",
            "hour": "Hour",
            "day": "Day"
        },
        "notify_via": {
            "sms": "Sms",
            "mail": "Email"
        }
    }
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET connector/api/crm/follow-up-resources</code></p>
<!-- END_1f14240a2d5b4c33d8c3659050d659c6 -->
<!-- START_1130c94d8503bf4189f9b516f11714b8 -->
<h2>List lead</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X GET \
    -G "http://www.gyral.link/erpnew/public/connector/api/crm/leads?assigned_to=1%2C2%2C3&amp;name=excepturi&amp;biz_name=eveniet&amp;mobile_num=20&amp;contact_id=facilis&amp;order_by=repellat&amp;direction=desc&amp;per_page=10" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}"</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/crm/leads"
);

let params = {
    "assigned_to": "1,2,3",
    "name": "excepturi",
    "biz_name": "eveniet",
    "mobile_num": "20",
    "contact_id": "facilis",
    "order_by": "repellat",
    "direction": "desc",
    "per_page": "10",
};
Object.keys(params)
    .forEach(key =&gt; url.searchParams.append(key, params[key]));

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

fetch(url, {
    method: "GET",
    headers: headers,
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<blockquote>
<p>Example response (200):</p>
</blockquote>
<pre><code class="language-json">{
    "data": [
        {
            "contact_id": "CO0010",
            "name": "mr Lead 3 kr kr 2",
            "supplier_business_name": "POS",
            "email": null,
            "mobile": "9437638555",
            "tax_number": null,
            "created_at": "2020-12-15 23:14:30",
            "custom_field1": null,
            "custom_field2": null,
            "custom_field3": null,
            "custom_field4": null,
            "custom_field5": null,
            "custom_field6": null,
            "alternate_number": null,
            "landline": null,
            "dob": null,
            "contact_status": "active",
            "type": "lead",
            "custom_field7": null,
            "custom_field8": null,
            "custom_field9": null,
            "custom_field10": null,
            "id": 49,
            "business_id": 1,
            "crm_source": "55",
            "crm_life_stage": "60",
            "address_line_1": null,
            "address_line_2": null,
            "city": null,
            "state": null,
            "country": null,
            "zip_code": null,
            "last_follow_up_id": 18,
            "upcoming_follow_up_id": null,
            "last_follow_up": "2021-01-07 10:26:00",
            "upcoming_follow_up": null,
            "last_follow_up_additional_info": "{\"test\":\"test done\",\"call_duration\":\"1.5 Hour\",\"rand\":1}",
            "upcoming_follow_up_additional_info": null,
            "source": {
                "id": 55,
                "name": "Facebook",
                "business_id": 1,
                "short_code": null,
                "parent_id": 0,
                "created_by": 1,
                "category_type": "source",
                "description": "Facebook",
                "slug": null,
                "woocommerce_cat_id": null,
                "deleted_at": null,
                "created_at": "2020-12-15 23:07:53",
                "updated_at": "2020-12-15 23:07:53"
            },
            "life_stage": {
                "id": 60,
                "name": "Open Deal",
                "business_id": 1,
                "short_code": null,
                "parent_id": 0,
                "created_by": 1,
                "category_type": "life_stage",
                "description": "Open Deal",
                "slug": null,
                "woocommerce_cat_id": null,
                "deleted_at": null,
                "created_at": "2020-12-15 23:11:05",
                "updated_at": "2020-12-15 23:11:05"
            },
            "lead_users": [
                {
                    "id": 10,
                    "user_type": "user",
                    "surname": "Mr.",
                    "first_name": "WooCommerce",
                    "last_name": "User",
                    "username": "woocommerce_user",
                    "email": "woo@example.com",
                    "language": "en",
                    "contact_no": null,
                    "address": null,
                    "business_id": 1,
                    "max_sales_discount_percent": null,
                    "allow_login": 1,
                    "essentials_department_id": null,
                    "essentials_designation_id": null,
                    "status": "active",
                    "crm_contact_id": null,
                    "is_cmmsn_agnt": 0,
                    "cmmsn_percent": "0.00",
                    "selected_contacts": 0,
                    "dob": null,
                    "gender": null,
                    "marital_status": null,
                    "blood_group": null,
                    "contact_number": null,
                    "fb_link": null,
                    "twitter_link": null,
                    "social_media_1": null,
                    "social_media_2": null,
                    "permanent_address": null,
                    "current_address": null,
                    "guardian_name": null,
                    "custom_field_1": null,
                    "custom_field_2": null,
                    "custom_field_3": null,
                    "custom_field_4": null,
                    "bank_details": null,
                    "id_proof_name": null,
                    "id_proof_number": null,
                    "deleted_at": null,
                    "created_at": "2018-08-02 04:05:55",
                    "updated_at": "2018-08-02 04:05:55",
                    "pivot": {
                        "contact_id": 49,
                        "user_id": 10
                    }
                }
            ]
        },
        {
            "contact_id": "CO0011",
            "name": " Lead 4  ",
            "supplier_business_name": null,
            "email": null,
            "mobile": "234567",
            "tax_number": null,
            "created_at": "2020-12-15 23:14:48",
            "custom_field1": null,
            "custom_field2": null,
            "custom_field3": null,
            "custom_field4": null,
            "custom_field5": null,
            "custom_field6": null,
            "alternate_number": null,
            "landline": null,
            "dob": null,
            "contact_status": "active",
            "type": "lead",
            "custom_field7": null,
            "custom_field8": null,
            "custom_field9": null,
            "custom_field10": null,
            "id": 50,
            "business_id": 1,
            "crm_source": "55",
            "crm_life_stage": "62",
            "address_line_1": null,
            "address_line_2": null,
            "city": null,
            "state": null,
            "country": null,
            "zip_code": null,
            "last_follow_up_id": 32,
            "upcoming_follow_up_id": null,
            "last_follow_up": "2021-01-08 16:06:00",
            "upcoming_follow_up": null,
            "last_follow_up_additional_info": "{\"call_durartion\":\"5 hour\"}",
            "upcoming_follow_up_additional_info": null,
            "source": {
                "id": 55,
                "name": "Facebook",
                "business_id": 1,
                "short_code": null,
                "parent_id": 0,
                "created_by": 1,
                "category_type": "source",
                "description": "Facebook",
                "slug": null,
                "woocommerce_cat_id": null,
                "deleted_at": null,
                "created_at": "2020-12-15 23:07:53",
                "updated_at": "2020-12-15 23:07:53"
            },
            "life_stage": {
                "id": 62,
                "name": "New",
                "business_id": 1,
                "short_code": null,
                "parent_id": 0,
                "created_by": 1,
                "category_type": "life_stage",
                "description": "New",
                "slug": null,
                "woocommerce_cat_id": null,
                "deleted_at": null,
                "created_at": "2020-12-15 23:11:26",
                "updated_at": "2020-12-15 23:11:26"
            },
            "lead_users": [
                {
                    "id": 11,
                    "user_type": "user",
                    "surname": "Mr",
                    "first_name": "Admin Essential",
                    "last_name": null,
                    "username": "admin-essentials",
                    "email": "admin_essentials@example.com",
                    "language": "en",
                    "contact_no": null,
                    "address": null,
                    "business_id": 1,
                    "max_sales_discount_percent": null,
                    "allow_login": 1,
                    "essentials_department_id": null,
                    "essentials_designation_id": null,
                    "status": "active",
                    "crm_contact_id": null,
                    "is_cmmsn_agnt": 0,
                    "cmmsn_percent": "0.00",
                    "selected_contacts": 0,
                    "dob": null,
                    "gender": null,
                    "marital_status": null,
                    "blood_group": null,
                    "contact_number": null,
                    "fb_link": null,
                    "twitter_link": null,
                    "social_media_1": null,
                    "social_media_2": null,
                    "permanent_address": null,
                    "current_address": null,
                    "guardian_name": null,
                    "custom_field_1": null,
                    "custom_field_2": null,
                    "custom_field_3": null,
                    "custom_field_4": null,
                    "bank_details": null,
                    "id_proof_name": null,
                    "id_proof_number": null,
                    "deleted_at": null,
                    "created_at": "2018-01-04 02:15:19",
                    "updated_at": "2018-01-04 02:15:19",
                    "pivot": {
                        "contact_id": 50,
                        "user_id": 11
                    }
                }
            ]
        },
        {
            "contact_id": "CO0015",
            "name": " Lead kr  ",
            "supplier_business_name": null,
            "email": null,
            "mobile": "9437638555",
            "tax_number": null,
            "created_at": "2021-01-07 18:31:08",
            "custom_field1": null,
            "custom_field2": null,
            "custom_field3": null,
            "custom_field4": null,
            "custom_field5": null,
            "custom_field6": null,
            "alternate_number": null,
            "landline": null,
            "dob": "2021-01-07",
            "contact_status": "active",
            "type": "lead",
            "custom_field7": null,
            "custom_field8": null,
            "custom_field9": null,
            "custom_field10": null,
            "id": 82,
            "business_id": 1,
            "crm_source": null,
            "crm_life_stage": null,
            "address_line_1": null,
            "address_line_2": null,
            "city": null,
            "state": null,
            "country": null,
            "zip_code": null,
            "last_follow_up_id": 36,
            "upcoming_follow_up_id": null,
            "last_follow_up": "2021-01-07 18:31:08",
            "upcoming_follow_up": null,
            "last_follow_up_additional_info": "{\"call duration\":\"1 hour\",\"call descr\":\"talked to him and all okay\"}",
            "upcoming_follow_up_additional_info": null,
            "source": null,
            "life_stage": null,
            "lead_users": [
                {
                    "id": 11,
                    "user_type": "user",
                    "surname": "Mr",
                    "first_name": "Admin Essential",
                    "last_name": null,
                    "username": "admin-essentials",
                    "email": "admin_essentials@example.com",
                    "language": "en",
                    "contact_no": null,
                    "address": null,
                    "business_id": 1,
                    "max_sales_discount_percent": null,
                    "allow_login": 1,
                    "essentials_department_id": null,
                    "essentials_designation_id": null,
                    "status": "active",
                    "crm_contact_id": null,
                    "is_cmmsn_agnt": 0,
                    "cmmsn_percent": "0.00",
                    "selected_contacts": 0,
                    "dob": null,
                    "gender": null,
                    "marital_status": null,
                    "blood_group": null,
                    "contact_number": null,
                    "fb_link": null,
                    "twitter_link": null,
                    "social_media_1": null,
                    "social_media_2": null,
                    "permanent_address": null,
                    "current_address": null,
                    "guardian_name": null,
                    "custom_field_1": null,
                    "custom_field_2": null,
                    "custom_field_3": null,
                    "custom_field_4": null,
                    "bank_details": null,
                    "id_proof_name": null,
                    "id_proof_number": null,
                    "deleted_at": null,
                    "created_at": "2018-01-04 02:15:19",
                    "updated_at": "2018-01-04 02:15:19",
                    "pivot": {
                        "contact_id": 82,
                        "user_id": 11
                    }
                }
            ]
        }
    ],
    "links": {
        "first": "http:\/\/local.pos.com\/connector\/api\/crm\/leads?page=1",
        "last": "http:\/\/local.pos.com\/connector\/api\/crm\/leads?page=1",
        "prev": null,
        "next": null
    },
    "meta": {
        "current_page": 1,
        "from": 1,
        "last_page": 1,
        "path": "http:\/\/local.pos.com\/connector\/api\/crm\/leads",
        "per_page": "10",
        "to": 3,
        "total": 3
    }
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET connector/api/crm/leads</code></p>
<h4>Query Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>assigned_to</code></td>
<td>optional</td>
<td>comma separated ids of users to whom lead is assigned (Ex: 1,2,3)</td>
</tr>
<tr>
<td><code>name</code></td>
<td>optional</td>
<td>Search term for lead name</td>
</tr>
<tr>
<td><code>biz_name</code></td>
<td>optional</td>
<td>Search term for lead's business name</td>
</tr>
<tr>
<td><code>mobile_num</code></td>
<td>optional</td>
<td>Search term for lead's mobile number</td>
</tr>
<tr>
<td><code>contact_id</code></td>
<td>optional</td>
<td>Search term for lead's contact_id. Ex(CO0005)</td>
</tr>
<tr>
<td><code>order_by</code></td>
<td>optional</td>
<td>Column name to sort the result, Column: name, supplier_business_name</td>
</tr>
<tr>
<td><code>direction</code></td>
<td>optional</td>
<td>Direction to sort the result, Required if using 'order_by', direction: desc, asc</td>
</tr>
<tr>
<td><code>per_page</code></td>
<td>optional</td>
<td>Total records per page. default: 10, Set -1 for no pagination</td>
</tr>
</tbody>
</table>
<!-- END_1130c94d8503bf4189f9b516f11714b8 -->
<!-- START_da92fa7a02594a4309d0ad9614b1bc1b -->
<h2>Save Call Logs</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X POST \
    "http://www.gyral.link/erpnew/public/connector/api/crm/call-logs" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}" \
    -d '{"call_logs":[{"mobile_number":"totam","mobile_name":"esse","call_type":"call","start_time":"mollitia","end_time":"aut","duration":"et"}]}'
</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/crm/call-logs"
);

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

let body = {
    "call_logs": [
        {
            "mobile_number": "totam",
            "mobile_name": "esse",
            "call_type": "call",
            "start_time": "mollitia",
            "end_time": "aut",
            "duration": "et"
        }
    ]
}

fetch(url, {
    method: "POST",
    headers: headers,
    body: body
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<h3>HTTP Request</h3>
<p><code>POST connector/api/crm/call-logs</code></p>
<h4>Body Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>call_logs.*.mobile_number</code></td>
<td>string</td>
<td>required</td>
<td>Mobile number of the customer or user</td>
</tr>
<tr>
<td><code>call_logs.*.mobile_name</code></td>
<td>string</td>
<td>optional</td>
<td>Name of the contact saved in the mobile</td>
</tr>
<tr>
<td><code>call_logs.*.call_type</code></td>
<td>string</td>
<td>optional</td>
<td>Call type (call, sms)</td>
</tr>
<tr>
<td><code>call_logs.*.start_time</code></td>
<td>string</td>
<td>optional</td>
<td>Start datetime of the call in &quot;Y-m-d H:i:s&quot; format</td>
</tr>
<tr>
<td><code>call_logs.*.end_time</code></td>
<td>string</td>
<td>optional</td>
<td>End datetime of the call in &quot;Y-m-d H:i:s&quot; format</td>
</tr>
<tr>
<td><code>call_logs.*.duration</code></td>
<td>string</td>
<td>optional</td>
<td>Duration of the call in seconds</td>
</tr>
</tbody>
</table>
<!-- END_da92fa7a02594a4309d0ad9614b1bc1b -->
<h1>Field Force</h1>
<!-- START_9ae4136ebb8f477c34d68f47332f9652 -->
<h2>List visits</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X GET \
    -G "http://www.gyral.link/erpnew/public/connector/api/field-force?contact_id=ut&amp;assigned_to=aut&amp;status=dolorem&amp;start_date=2018-06-25&amp;end_date=2018-06-25&amp;per_page=15&amp;order_by_date=desc" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}"</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/field-force"
);

let params = {
    "contact_id": "ut",
    "assigned_to": "aut",
    "status": "dolorem",
    "start_date": "2018-06-25",
    "end_date": "2018-06-25",
    "per_page": "15",
    "order_by_date": "desc",
};
Object.keys(params)
    .forEach(key =&gt; url.searchParams.append(key, params[key]));

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

fetch(url, {
    method: "GET",
    headers: headers,
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<blockquote>
<p>Example response (401):</p>
</blockquote>
<pre><code class="language-json">{
    "error": "Unauthenticated."
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET connector/api/field-force</code></p>
<h4>Query Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>contact_id</code></td>
<td>optional</td>
<td>id of the contact</td>
</tr>
<tr>
<td><code>assigned_to</code></td>
<td>optional</td>
<td>id of the assigned user</td>
</tr>
<tr>
<td><code>status</code></td>
<td>optional</td>
<td>status of the visit (assigned, finished)</td>
</tr>
<tr>
<td><code>start_date</code></td>
<td>optional</td>
<td>Start date filter for visit on format:Y-m-d</td>
</tr>
<tr>
<td><code>end_date</code></td>
<td>optional</td>
<td>End date filter for visit on format:Y-m-d</td>
</tr>
<tr>
<td><code>per_page</code></td>
<td>optional</td>
<td>Total records per page. default: 10, Set -1 for no pagination</td>
</tr>
<tr>
<td><code>order_by_date</code></td>
<td>optional</td>
<td>Sort visit by visit on date ('asc', 'desc')</td>
</tr>
</tbody>
</table>
<!-- END_9ae4136ebb8f477c34d68f47332f9652 -->
<!-- START_b2acfbbc6dfe76d2bc7331dad7e9d96c -->
<h2>Create Visit</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X POST \
    "http://www.gyral.link/erpnew/public/connector/api/field-force/create" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}" \
    -d '{"contact_id":3,"visit_to":"magni","visit_address":"temporibus","assigned_to":4,"visit_on":"2021-12-28 17:23:00","visit_for":"laboriosam"}'
</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/field-force/create"
);

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

let body = {
    "contact_id": 3,
    "visit_to": "magni",
    "visit_address": "temporibus",
    "assigned_to": 4,
    "visit_on": "2021-12-28 17:23:00",
    "visit_for": "laboriosam"
}

fetch(url, {
    method: "POST",
    headers: headers,
    body: body
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<blockquote>
<p>Example response (200):</p>
</blockquote>
<pre><code class="language-json">{
    "data": {
        "contact_id": "6",
        "assigned_to": "9",
        "visit_on": "2022-01-15 17:23:00",
        "visit_for": "",
        "visit_id": "2021\/0031",
        "status": "assigned",
        "business_id": 1,
        "updated_at": "2021-12-30 11:00:47",
        "created_at": "2021-12-30 11:00:47",
        "id": 3
    }
}</code></pre>
<h3>HTTP Request</h3>
<p><code>POST connector/api/field-force/create</code></p>
<h4>Body Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>contact_id</code></td>
<td>integer</td>
<td>optional</td>
<td>id of the contact</td>
</tr>
<tr>
<td><code>visit_to</code></td>
<td>string</td>
<td>optional</td>
<td>Name of the visiting person or company if contact_id is not given</td>
</tr>
<tr>
<td><code>visit_address</code></td>
<td>string</td>
<td>optional</td>
<td>Address of the visiting person or company if contact_id is not given</td>
</tr>
<tr>
<td><code>assigned_to</code></td>
<td>integer</td>
<td>required</td>
<td>id of the assigned user</td>
</tr>
<tr>
<td><code>visit_on</code></td>
<td>format:Y-m-d</td>
<td>optional</td>
<td>H:i:s</td>
</tr>
<tr>
<td><code>visit_for</code></td>
<td>string</td>
<td>optional</td>
<td>Purpose of visiting</td>
</tr>
</tbody>
</table>
<!-- END_b2acfbbc6dfe76d2bc7331dad7e9d96c -->
<!-- START_0858d78abd7219edaf878fac4fb38d13 -->
<h2>Update Visit status</h2>
<p><br><small style="padding: 1px 9px 2px;font-weight: bold;white-space: nowrap;color: #ffffff;-webkit-border-radius: 9px;-moz-border-radius: 9px;border-radius: 9px;background-color: #3a87ad;">Requires authentication</small></p>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre><code class="language-bash">curl -X POST \
    "http://www.gyral.link/erpnew/public/connector/api/field-force/update-visit-status/17" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -H "Authorization: Bearer {token}" \
    -d '{"status":"finished","reason_to_not_meet_contact":"sed","visited_on":"2021-12-28 17:23:00","visited_address":"Radhanath Mullick Ln, Tiretta Bazaar, Bow Bazaar, Kolkata, West Bengal, 700 073, India","latitude":"41.40338","longitude":"2.17403","comments":"vitae","photo":"sint"}'
</code></pre>
<pre><code class="language-javascript">const url = new URL(
    "http://www.gyral.link/erpnew/public/connector/api/field-force/update-visit-status/17"
);

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Authorization": "Bearer {token}",
};

let body = {
    "status": "finished",
    "reason_to_not_meet_contact": "sed",
    "visited_on": "2021-12-28 17:23:00",
    "visited_address": "Radhanath Mullick Ln, Tiretta Bazaar, Bow Bazaar, Kolkata, West Bengal, 700 073, India",
    "latitude": "41.40338",
    "longitude": "2.17403",
    "comments": "vitae",
    "photo": "sint"
}

fetch(url, {
    method: "POST",
    headers: headers,
    body: body
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
<blockquote>
<p>Example response (200):</p>
</blockquote>
<pre><code class="language-json">{
    "data": {
        "id": 10,
        "business_id": 1,
        "contact_id": 6,
        "assigned_to": 9,
        "visited_address": "New address",
        "status": "finished",
        "visit_on": "2021-12-28 17:23:00",
        "visit_for": "assigned from api",
        "comments": "Users comment",
        "created_at": "2021-12-28 17:35:13",
        "updated_at": "2021-12-28 18:06:03"
    }
}</code></pre>
<h3>HTTP Request</h3>
<p><code>POST connector/api/field-force/update-visit-status/{id}</code></p>
<h4>URL Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>required</td>
<td>id of the visit to be updated</td>
</tr>
</tbody>
</table>
<h4>Body Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>status</code></td>
<td>string</td>
<td>optional</td>
<td>Current status of the visit (assigned, finished, met_contact, did_not_meet_contact)</td>
</tr>
<tr>
<td><code>reason_to_not_meet_contact</code></td>
<td>string</td>
<td>optional</td>
<td>Reason if status is did_not_meet_contact</td>
</tr>
<tr>
<td><code>visited_on</code></td>
<td>format:Y-m-d</td>
<td>optional</td>
<td>H:i:s</td>
</tr>
<tr>
<td><code>visited_address</code></td>
<td>string</td>
<td>optional</td>
<td>Full address of the contact</td>
</tr>
<tr>
<td><code>latitude</code></td>
<td>decimal</td>
<td>optional</td>
<td>Lattitude of the user location if full address is not given</td>
</tr>
<tr>
<td><code>longitude</code></td>
<td>decimal</td>
<td>optional</td>
<td>Longitude of the user location if full address is not given</td>
</tr>
<tr>
<td><code>comments</code></td>
<td>string</td>
<td>optional</td>
<td>Extra comments</td>
</tr>
<tr>
<td><code>photo</code></td>
<td>file</td>
<td>optional</td>
<td>Upload Photo as a file of the visit if any or base64 encoded image</td>
</tr>
</tbody>
</table>
<!-- END_0858d78abd7219edaf878fac4fb38d13 -->
      </div>
      <div class="dark-box">
                        <div class="lang-selector">
                                    <a href="#" data-language-name="bash">bash</a>
                                    <a href="#" data-language-name="javascript">javascript</a>
                              </div>
                </div>
    </div>
  </body>
</html>